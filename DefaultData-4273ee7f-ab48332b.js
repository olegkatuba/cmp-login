import{A as e,B as n,I as s,s as t,u as r,P as i,C as u,F as a,b as o,c,G as l,D as d,L as v,H as f,_ as g}from"./index.module.js";var h=function(n){function s(e,h,S){var I=n.call(this,S)||this;return I.categorySlug=e.categorySlug,I.consent=i(e,h),I.id=e.templateId,I.isEssential=h.isEssential,I.isHidden=!!h.isHidden||e.isHidden,I.processorId=""+u(a()),I.subServices=[],I.subServicesLength=e.subConsents?e.subConsents.length:0,I.version=e.version,I.fetchSubServices=function(){return o(I,void 0,void 0,(function(){var n,i,u,a,o,S,I;return c(this,(function(c){switch(c.label){case 0:if(n=d.getInstance(),i=e.subConsents,u=(null===(I=this.language)||void 0===I?void 0:I.selected)||"de",!(a=v(u,i)).length)return[2,[]];S=null,c.label=1;case 1:return c.trys.push([1,4,,5]),[4,n.fetchAggregatedServices(u,a,!1)];case 2:return o=c.sent(),[4,n.fetchTranslations()];case 3:return S=c.sent(),[3,5];case 4:throw c.sent(),new Error(l.FETCH_DATA_PROCESSING_SERVICES);case 5:return o&&i?(this.subServices=i.reduce((function(e,n){var i=null==o?void 0:o.find((function(e){return n.templateId===e.templateId&&n.version===e.version}));if(!i)return t([],r(e));var u=new s(n,h,i);return t(t([],r(e)),[u])}),[]),[2,this.subServices.reduce((function(e,n){var s=i.find((function(e){return n.id===e.templateId&&n.version===e.version}));if(!s)return t([],r(e));var u=new f(s,S,o);return t(t([],r(e)),[g(g({},n),u)])}),[])]):[2,[]]}}))}))},I}return e(s,n),s}(n),S=function(e,n,s){this.isEssential=e.isEssential,this.isHidden=e.isHidden,this.services=I(e,n,s),this.slug=e.categorySlug},I=function(e,n,s){return n.reduce((function(n,i){if(i.categorySlug===e.categorySlug){var u=null==s?void 0:s.find((function(e){return i.templateId===e.templateId&&i.version===e.version})),a=new h(i,e,u);return t(t([],r(n)),[a])}return t([],r(n))}),[])};export default function(e,n,i){this.categories=e.categories.reduce((function(n,u){var a=new S(u,e.consentTemplates,i);return s(a.services)?t(t([],r(n)),[a]):t([],r(n))}),[]),this.controllerId=n}
//# sourceMappingURL=DefaultData-4273ee7f-ab48332b.js.map
