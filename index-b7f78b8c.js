import{aJ as e,b4 as a,b5 as t,aj as s,ae as o,aF as n,aK as r,ag as i,aP as l,af as c,bm as d,ai as u,ah as g,aO as b,aH as y,ab as L,aS as h,ak as m,aT as p,ao as f,ap as S,aW as B,aX as C}from"./index.module.js";import{A,D as w,S as T}from"./SaveButton-936971d1.js";import{K as E,B as v,G as k,H as F,N as D,Q as x,M}from"./useSubService-410a73b3.js";import{D as O}from"./DefaultTabs-2798014b.js";import"./helpers-65e79f36.js";const I=e.div(["align-items:center;display:inline-flex;margin-top:",";margin-bottom:",";",";"],(({theme:e})=>e.spacing.base.xxs),(({theme:e})=>e.spacing.base.md),(({theme:e})=>a(e,t.MARGIN_RIGHT,e.spacing.base.md))),H=e.div(["color:",";display:flex;flex:1 0 auto;"],(({theme:e})=>e.ui.text.color)),V=({category:e,checked:a,onCategoryToggle:t})=>s(I,{"data-testid":"uc-category-toggle"},s(H,null,s(E,{checked:a,id:e.slug,isDisabled:e.isEssential,label:e.label,onToggle:t}))),R=({disabled:e,onClick:a})=>{const{settings:t}=o(),r=t.ui,i=n();return s(v,{ariaLabel:r.ariaLabels.ccpaMoreInformation,backgroundColor:i.ui.buttons.more.bg,disabled:e,label:(l=r.buttons.showSecondLayer.label,l.charAt(0).toUpperCase()+l.slice(1)),onClick:a,testid:"uc-more-button",textColor:i.ui.buttons.more.text});var l},j={firstLayerBanner:"uc-default-banner",firstLayerWall:"uc-default-wall",secondLayer:"uc-default-settings"};var N=r((({onClose:e,onCustomize:a,onFullScreenAmp:t,onLanguageChange:r,onAcceptAll:E,onDenyAll:v,isAcceptDenyAllLoading:I,UC:H})=>{const{settings:N}=o(),{isIE:P,isMobile:U}=i(),{categories:_,getUpdatedCategories:G,setCategories:K}=l(),{closeView:Y,firstLayerVariant:W,isAmpEnabled:z,isInFullScreen:J,secondLayerVariant:Q,view:X,setFirstLayerVariant:q,setSecondLayerVariant:Z}=c(),$=d(X===u.FIRST_LAYER?W:Q,j),ee=n(),ae=N.ui,[te,{loading:se}]=g(H.dismissAmp,H),[oe,{loading:ne}]=g(H.updateServices,H);b((()=>{const e=N.ui;q(e.firstLayer.variant),Z(e.secondLayer.variant)}),[]);const re=ne||se||I,ie=s(A,{disabled:re,onClick:()=>{E().then((()=>{Y()}))}}),le=s(w,{disabled:re,onClick:()=>{v().then((()=>{Y()}))}}),ce=s(T,{disabled:re,onClick:()=>{ne||se||oe(p(_)).then((async()=>{z&&await te(),f(X,S.SAVE),B(C.CUSTOM_CHOICE,H.setTrackingPixel,N.interactionAnalyticsEnabled),K(await G(X)),Y()}))}}),de=s(R,{disabled:re,onClick:a}),ue=y(y(y({AcceptAllButton:ie},!ae.firstLayer.hideButtonDeny&&{DenyAllButton:le}),ae.firstLayer.isCategoryTogglesEnabled&&{SaveButton:ce}),ee.ui.firstLayer.secondLayerTrigger===L.BUTTON&&{MoreButton:de});let ge={AcceptAllButton:ie};ge=z?y(y({},ge),{},{DenyAllButton:le}):ae.secondLayer.hideButtonDeny?y(y({},ge),{},{SaveButton:ce}):y(y({},ge),{},{DenyAllButton:le,SaveButton:ce});const be={onClose:e,onFullScreenAmp:t,onLanguageChange:r},ye=$.layerPlacement===h.BOTTOM||$.layerPlacement===h.TOP,Le=ee.ui.firstLayer.secondLayerTrigger===L.LINK?[{ariaLabel:ae.buttons.showSecondLayer.label,label:ae.buttons.showSecondLayer.label,onClick:a}]:[];switch(X){case u.FIRST_LAYER:return s(F,{customActions:Le,footer:{buttons:ue},header:{description:ae.firstLayer.description.default,enableHTMLTextFormatting:!0,functions:be,labelShowMore:ae.labels.general.showMore,shortDescription:ae.firstLayer.description.short,showFullScreenButton:z&&!J,showLanguageSelector:ae.firstLayer.isLanguageSelectorEnabled,showMoreEnabled:ae.firstLayer.description.showShortDescriptionOnMobile,title:ae.firstLayer.title},layerSettings:y(y(y({isOverlayEnabled:ae.firstLayer.isOverlayEnabled},(P||U)&&{minVerticalScrollerHeight:100}),$),{},{placeLinksInFooter:ye,showBorderBottom:!1,withFadingBottom:!1,withInitialHeight:!0}),useBackgroundColor:!0},ae.firstLayer.isCategoryTogglesEnabled&&s(D,null,s(x,null,M({categories:_,setCategories:K}).map((e=>s(V,e))))));case u.SECOND_LAYER:return s(F,{footer:{buttons:ge,showBorderBeforeFooter:!0},header:{description:ae.secondLayer.description,enableHTMLTextFormatting:!0,functions:be,showCloseButton:z&&J||!z,showFullScreenButton:z&&!J,showLanguageSelector:ae.secondLayer.isLanguageSelectorEnabled,title:ae.secondLayer.title},layerSettings:y(y(y({isOverlayEnabled:ae.secondLayer.isOverlayEnabled},P&&{minVerticalScrollerHeight:350}),$),{},{placeLinksInFooter:ye,showBorderBottom:!1,side:ae.secondLayer.side,withFadingBottom:!0}),useBackgroundColor:!1},s(k,null,s(O,null)));default:return s(m,null)}}));export default N;
//# sourceMappingURL=index-b7f78b8c.js.map
