import{s as t,u as e,D as n}from"./index.module.js";var r=function(){function r(){this.apiInstance=n.getInstance()}return r.prototype.getTargets=function(n){var r=this;return n.reduce((function(n,i){if("mark"!==i.entryType&&"measure"!==i.entryType&&"paint"!==i.entryType){var o=i.name,a=r.extractSubdomain(o);if(-1===n.indexOf(a))return t(t([],e(n)),[a])}return n}),[])},r.prototype.initTagLogger=function(){var t=this;window.addEventListener("beforeunload",(function(){document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&t.updateLog()}))}))},r.prototype.extractSubdomain=function(t){var e,n=t.split("/");return t.indexOf("://")>-1?(e=""+n[2],n[3]&&(e+="/"+n[3])):(e=""+n[0],n[1]&&(e+="/"+n[1])),""+e.split("?")[0]},r.prototype.updateLog=function(){if(Object.prototype.hasOwnProperty.call(window,"performance")&&"function"==typeof performance.getEntries){var t=window.performance.getEntries();this.apiInstance.updateTagLoggerData(this.getTargets(t))}else console.log("UC Warning: tag logger functionality is not supported by your browser.")},r}();export default r;
//# sourceMappingURL=Taglogger-8e040d50-bcf33af9.js.map
