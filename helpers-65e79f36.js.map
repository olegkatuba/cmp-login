{"version":3,"file":"helpers-65e79f36.js","sources":["../src/components/StorageInfo/helpers.ts"],"sourcesContent":["import { CookieInformationLabels } from '@usercentrics/cmp-browser-sdk';\n\nexport function convertCookieMaxAge(cookieMaxAge: number | null, labels: CookieInformationLabels): string {\n  if (cookieMaxAge === null) {\n    return ' - ';\n  }\n\n  if (cookieMaxAge <= 0) {\n    return labels.session;\n  }\n\n  let cookieMaxAgeInSeconds = cookieMaxAge;\n  let finalText = '';\n\n  if (cookieMaxAgeInSeconds >= 86400) {\n    const years = Math.floor(cookieMaxAgeInSeconds / 31536000);\n\n    if (years > 0) {\n      cookieMaxAgeInSeconds %= 31536000;\n\n      if (years === 1) {\n        finalText = finalText.concat(`${years} ${labels.year}, `);\n      } else {\n        finalText = finalText.concat(`${years} ${labels.years}, `);\n      }\n    }\n\n    const months = Math.floor(cookieMaxAgeInSeconds / 2628000);\n\n    if (months > 0) {\n      cookieMaxAgeInSeconds %= 2628000;\n\n      if (months === 1) {\n        finalText = finalText.concat(`${months} ${labels.month}, `);\n      } else {\n        finalText = finalText.concat(`${months} ${labels.months}, `);\n      }\n    }\n\n    const days = Math.floor(cookieMaxAgeInSeconds / 86400);\n\n    if (days > 0) {\n      if (days === 1) {\n        finalText = finalText.concat(`${days} ${labels.day}`);\n      } else {\n        finalText = finalText.concat(`${days} ${labels.days}`);\n      }\n    }\n\n    finalText = finalText.replace(/,\\s*$/, ''); // remove whitespace and comma at the end\n\n    // yy:MM:dd\n    return finalText;\n  }\n\n  const hours = Math.floor(cookieMaxAgeInSeconds / 3600);\n\n  if (hours > 0) {\n    cookieMaxAgeInSeconds %= 3600;\n\n    if (hours === 1) {\n      finalText = finalText.concat(`${hours} ${labels.hour}, `);\n    } else {\n      finalText = finalText.concat(`${hours} ${labels.hours}, `);\n    }\n  }\n\n  const minutes = Math.floor(cookieMaxAgeInSeconds / 60);\n\n  if (minutes > 0) {\n    if (minutes === 1) {\n      finalText = finalText.concat(`${minutes} ${labels.minute}, `);\n    } else {\n      finalText = finalText.concat(`${minutes} ${labels.minutes}, `);\n    }\n  }\n\n  const seconds = cookieMaxAgeInSeconds % 60;\n\n  if (seconds > 0) {\n    if (seconds === 1) {\n      finalText = finalText.concat(`${seconds} ${labels.second}, `);\n    } else {\n      finalText = finalText.concat(`${seconds} ${labels.seconds}, `);\n    }\n  }\n\n  finalText = finalText.replace(/,\\s*$/, ''); // remove whitespace and comma at the end\n\n  // hh:mm:ss\n  return finalText;\n}\n\nexport async function fetchUrl(url: string): Promise<Response | undefined> {\n  let response;\n  try {\n    response = await window.fetch(url);\n  } catch (e) {\n    // eslint-disable-next-line no-console\n    console.warn(`Usercentrics: Failed to fetch data from server: ${e}`);\n  }\n\n  if (response && response.status >= 400) {\n    // eslint-disable-next-line no-console\n    console.warn('Usercentrics: Failed to fetch data from server');\n  }\n\n  return response;\n}\n\nexport function convertDomain(domain: string, anyDomain: string, multipleDomain: string): string {\n  if (domain === '*') {\n    return `${domain} (${anyDomain})`;\n  }\n\n  if (domain.includes('*')) {\n    return `${domain} (${multipleDomain})`;\n  }\n\n  return domain;\n}\n"],"names":["convertCookieMaxAge","cookieMaxAge","labels","session","cookieMaxAgeInSeconds","finalText","years","Math","floor","concat","year","months","month","days","day","replace","hours","hour","minutes","minute","seconds","second","async","fetchUrl","url","response","window","fetch","e","console","warn","status","convertDomain","domain","anyDomain","multipleDomain","includes"],"mappings":"AAEO,SAASA,EAAoBC,EAA6BC,MAC1C,OAAjBD,QACK,SAGLA,GAAgB,SACXC,EAAOC,YAGZC,EAAwBH,EACxBI,EAAY,MAEZD,GAAyB,MAAO,OAC5BE,EAAQC,KAAKC,MAAMJ,EAAwB,SAE7CE,EAAQ,IACVF,GAAyB,QAGvBC,EADY,IAAVC,EACUD,EAAUI,OAAQ,GAAEH,KAASJ,EAAOQ,UAEpCL,EAAUI,OAAQ,GAAEH,KAASJ,EAAOI,kBAI9CK,EAASJ,KAAKC,MAAMJ,EAAwB,QAE9CO,EAAS,IACXP,GAAyB,OAGvBC,EADa,IAAXM,EACUN,EAAUI,OAAQ,GAAEE,KAAUT,EAAOU,WAErCP,EAAUI,OAAQ,GAAEE,KAAUT,EAAOS,mBAI/CE,EAAON,KAAKC,MAAMJ,EAAwB,cAE5CS,EAAO,IAEPR,EADW,IAATQ,EACUR,EAAUI,OAAQ,GAAEI,KAAQX,EAAOY,OAEnCT,EAAUI,OAAQ,GAAEI,KAAQX,EAAOW,SAInDR,EAAYA,EAAUU,QAAQ,QAAS,IAGhCV,QAGHW,EAAQT,KAAKC,MAAMJ,EAAwB,MAE7CY,EAAQ,IACVZ,GAAyB,KAGvBC,EADY,IAAVW,EACUX,EAAUI,OAAQ,GAAEO,KAASd,EAAOe,UAEpCZ,EAAUI,OAAQ,GAAEO,KAASd,EAAOc,kBAI9CE,EAAUX,KAAKC,MAAMJ,EAAwB,IAE/Cc,EAAU,IAEVb,EADc,IAAZa,EACUb,EAAUI,OAAQ,GAAES,KAAWhB,EAAOiB,YAEtCd,EAAUI,OAAQ,GAAES,KAAWhB,EAAOgB,oBAIhDE,EAAUhB,EAAwB,UAEpCgB,EAAU,IAEVf,EADc,IAAZe,EACUf,EAAUI,OAAQ,GAAEW,KAAWlB,EAAOmB,YAEtChB,EAAUI,OAAQ,GAAEW,KAAWlB,EAAOkB,cAItDf,EAAYA,EAAUU,QAAQ,QAAS,IAGhCV,EAGFiB,eAAeC,EAASC,OACzBC,MAEFA,QAAiBC,OAAOC,MAAMH,GAC9B,MAAOI,GAEPC,QAAQC,KAAM,mDAAkDF,YAG9DH,GAAYA,EAASM,QAAU,KAEjCF,QAAQC,KAAK,kDAGRL,EAGF,SAASO,EAAcC,EAAgBC,EAAmBC,SAChD,MAAXF,EACM,GAAEA,MAAWC,KAGnBD,EAAOG,SAAS,KACV,GAAEH,MAAWE,KAGhBF"}