(self.webpackChunkcmp_browser_login=self.webpackChunkcmp_browser_login||[]).push([[772,962],{4962:function(e,t,s){"use strict";s.r(t),s(5827),s(9826);var i=s(6516),n=function(e){function t(s,n,r){var o=e.call(this,r)||this;return o.categorySlug=s.categorySlug,o.consent=(0,i.z)(s,n),o.id=s.templateId,o.isEssential=n.isEssential,o.isHidden=!!n.isHidden||s.isHidden,o.processorId=""+(0,i.E)((0,i.H)()),o.subServices=[],o.subServicesLength=s.subConsents?s.subConsents.length:0,o.version=s.version,o.fetchSubServices=function(){return(0,i.f)(o,void 0,void 0,(function(){var e,r,o,c,a,u,d;return(0,i.g)(this,(function(l){switch(l.label){case 0:if(e=i.A.getInstance(),r=s.subConsents,o=(null===(d=this.language)||void 0===d?void 0:d.selected)||"de",!(c=(0,i.K)(o,r)).length)return[2,[]];u=null,l.label=1;case 1:return l.trys.push([1,4,,5]),[4,e.fetchAggregatedServices(o,c,!1)];case 2:return a=l.sent(),[4,e.fetchTranslations()];case 3:return u=l.sent(),[3,5];case 4:throw l.sent(),new Error(i.J.FETCH_DATA_PROCESSING_SERVICES);case 5:return a&&r?(this.subServices=r.reduce((function(e,s){var r=null==a?void 0:a.find((function(e){return s.templateId===e.templateId&&s.version===e.version}));if(!r)return(0,i._)([],(0,i.a)(e));var o=new t(s,n,r);return(0,i._)((0,i._)([],(0,i.a)(e)),[o])}),[]),[2,this.subServices.reduce((function(e,t){var s=r.find((function(e){return t.id===e.templateId&&t.version===e.version}));if(!s)return(0,i._)([],(0,i.a)(e));var n=new i.N(s,u,a);return(0,i._)((0,i._)([],(0,i.a)(e)),[(0,i.Q)((0,i.Q)({},t),n)])}),[])]):[2,[]]}}))}))},o}return(0,i.y)(t,e),t}(i.M),r=function(e,t,s){this.isEssential=e.isEssential,this.isHidden=e.isHidden,this.services=o(e,t,s),this.slug=e.categorySlug},o=function(e,t,s){return t.reduce((function(t,r){if(r.categorySlug===e.categorySlug){var o=null==s?void 0:s.find((function(e){return r.templateId===e.templateId&&r.version===e.version})),c=new n(r,e,o);return(0,i._)((0,i._)([],(0,i.a)(t)),[c])}return(0,i._)([],(0,i.a)(t))}),[])};t.default=function(e,t,s){this.categories=e.categories.reduce((function(t,n){var o=new r(n,e.consentTemplates,s);return(0,i.j)(o.services)?(0,i._)((0,i._)([],(0,i.a)(t)),[o]):(0,i._)([],(0,i.a)(t))}),[]),this.controllerId=t}},9772:function(e,t,s){"use strict";s.r(t),s(4747),s(2222),s(1249),s(9826);var i=s(6516),n=s(5260),r=function(e){function t(t,s,r){var o=e.call(this,t,r)||this;o.locationInstance=i.n.getInstance(),o.botInstance=i.B.getInstance(),o.previousStorage=null,o.selectedVendorsIncludeNonDisclosed=!1,o.cmpApi={},o.tcModel=null,o.tcfData=null,o.vendors=[];var c=t.tcf2,a=c.changedPurposes,u=c.cmpId,d=c.cmpVersion,l=c.consensuScriptPath,h=c.disabledSpecialFeatures,p=c.gdprApplies,v=c.hideLegitimateInterestToggles,g=c.publisherCountryCode,f=c.purposeOneTreatment,I=c.scope,S=c.selectedStacks,m=c.selectedVendorIds,T=c.tcfv2HistoryDisabled;return o.changedPurposes=(0,n.q)(a),o.cmpId=u||5,o.cmpVersion=d||(0,i.o)(),o.consensuScriptPath=(0,n.s)(l),o.consensuSubdomain=(0,n.t)(t.tcf2.consensuDomain),o.disabledSpecialFeatures=h||[],o.gdprApplies=(0,i.U)(p,!1),o.hideLegitimateInterestToggles=v,o.isServiceSpecific=I===i.p.SERVICE,o.publisherCountryCode=g||"DE",o.purposeOneTreatment=(0,i.U)(f,!1),o.resurfaceOptions=(0,n.u)(t.tcf2),o.stackIds=S||[],o.tcfv2HistoryDisabled=T,o.useGranularChoice=(0,n.v)(t.tcf2.firstLayerHideToggles,t.tcf2.secondLayerHideToggles),o.vendorIds=m||[],o.selectedLanguage=(0,n.r)(t.language),o.cmpApi=new n.w.CmpApi(o.cmpId,o.cmpVersion,o.isServiceSpecific),o.dataTransferSettings=s,o}return(0,i.y)(t,e),t.prototype.updateControllerId=function(e){this.dataTransferSettings.controllerId=e},t.prototype.acceptAllDisclosed=function(e){var t,s;return(0,i.f)(this,void 0,void 0,(function(){var r,o,c;return(0,i.g)(this,(function(a){switch(a.label){case 0:return(r=this.tcModel)?(o=[],c=[],this.getVendors().forEach((function(e){var t=e.id,s=e.legitimateInterestPurposes,i=e.purposes;i.length?(r.vendorConsents.set(t),o=o.concat(i.map((function(e){return e.id})))):r.vendorConsents.unset(t),s.length?(r.vendorLegitimateInterests.set(t),c=c.concat(s.map((function(e){return e.id})))):r.vendorLegitimateInterests.unset(t)})),r.purposeConsents.set((0,i.u)(o)),r.purposeLegitimateInterests.set((0,i.u)(c)),this.hideLegitimateInterestToggles&&(r.unsetAllVendorLegitimateInterests(),r.unsetAllPurposeLegitimateInterests()),r.specialFeatureOptins.set((0,n.g)(null===(s=null===(t=this.tcModel)||void 0===t?void 0:t.gvl)||void 0===s?void 0:s.stacks,this.getVendors(),this.disabledSpecialFeatures,this.stackIds)),this.tcModel=r,[4,this.updateTCString(e)]):[2];case 1:return a.sent(),[2]}}))}))},t.prototype.areAllPurposesAccepted=function(){var e,t;return(0,n.a)(this.tcModel,null===(e=this.tcModel)||void 0===e?void 0:e.gvl.stacks,null===(t=this.tcModel)||void 0===t?void 0:t.gvl.purposes,this.vendors,this.disabledSpecialFeatures,this.stackIds,this.purposeOneTreatment,this.useGranularChoice,this.hideLegitimateInterestToggles).every((function(e){var t=!0,s=!0;return e.showConsentToggle&&null!==e.consent&&(t=e.consent),e.showLegitimateInterestToggle&&null!==e.legitimateInterestConsent&&(s=e.legitimateInterestConsent),t&&s}))},t.prototype.areAllVendorsAccepted=function(){var e,t=(0,n.b)(this.vendorIds,null===(e=this.tcModel)||void 0===e?void 0:e.gvl.vendors),s=this.getVendors();return t.every((function(e){var t=s.find((function(t){return t.id===e})),i=!0,n=!0;return!!t&&(t.showConsentToggle&&null!==t.consent&&(i=t.consent),t.showLegitimateInterestConsentToggle&&null!==t.legitimateInterestConsent&&(n=t.legitimateInterestConsent),i&&n)}))},t.prototype.changeLanguage=function(e){return(0,i.f)(this,void 0,void 0,(function(){var t;return(0,i.g)(this,(function(s){switch(s.label){case 0:return t=(0,n.r)(e),[4,this.resetGVLWithLanguage("en"===t?t+"-v2":t)];case 1:return s.sent(),this.tcModel&&this.tcModel.gvl.narrowVendorsTo((0,n.b)(this.vendorIds,this.tcModel.gvl.vendors)),this.resetTcfData(),[2]}}))}))},t.prototype.denyAllDisclosed=function(e){return(0,i.f)(this,void 0,void 0,(function(){var t;return(0,i.g)(this,(function(s){switch(s.label){case 0:return this.tcModel?(this.tcModel.unsetAllVendorConsents(),this.tcModel.unsetAllVendorLegitimateInterests(),t=(0,n.c)(this.tcModel.gvl.stacks,this.getVendors(),this.disabledSpecialFeatures,this.stackIds,this.purposeOneTreatment),this.tcModel.purposeConsents.unset(t),this.tcModel.purposeLegitimateInterests.unset(t),this.tcModel.specialFeatureOptins.unset((0,n.g)(this.tcModel.gvl.stacks,this.getVendors(),this.disabledSpecialFeatures,this.stackIds)),[4,this.updateTCString(e)]):[2];case 1:return s.sent(),[2]}}))}))},t.prototype.getSelectedVendorsIncludeNonDisclosed=function(){return this.selectedVendorsIncludeNonDisclosed},t.prototype.getTCFData=function(){var e,t,s,i,r,o,c,a,u;return this.tcfData||(this.tcfData={features:(0,n.d)(this.getVendors(),null===(t=null===(e=this.tcModel)||void 0===e?void 0:e.gvl)||void 0===t?void 0:t.features),purposes:(0,n.a)(this.tcModel,null===(s=this.tcModel)||void 0===s?void 0:s.gvl.stacks,null===(i=this.tcModel)||void 0===i?void 0:i.gvl.purposes,this.getVendors(),this.disabledSpecialFeatures,this.stackIds,this.purposeOneTreatment,this.useGranularChoice,this.hideLegitimateInterestToggles),specialFeatures:(0,n.e)(this.tcModel,null===(r=this.tcModel)||void 0===r?void 0:r.gvl,this.getVendors(),this.disabledSpecialFeatures,this.stackIds,this.useGranularChoice),specialPurposes:(0,n.f)(null===(c=null===(o=this.tcModel)||void 0===o?void 0:o.gvl)||void 0===c?void 0:c.specialPurposes,this.getVendors()),stacks:(0,n.h)(null===(u=null===(a=this.tcModel)||void 0===a?void 0:a.gvl)||void 0===u?void 0:u.stacks,this.disabledSpecialFeatures,this.stackIds),vendors:this.getVendors()}),this.tcfData},t.prototype.getGdprApplies=function(){return(0,i.f)(this,void 0,void 0,(function(){return(0,i.g)(this,(function(e){switch(e.label){case 0:return this.gdprApplies?[4,this.locationInstance.getIsUserInEU()]:[2,!0];case 1:return[2,e.sent()]}}))}))},t.prototype.getTCString=function(){return this.tcModel?n.l.TCString.encode(this.tcModel):""},t.prototype.init=function(){return(0,i.f)(this,void 0,void 0,(function(){var e,t=this;return(0,i.g)(this,(function(s){switch(s.label){case 0:return this.previousStorage=i.S.fetchTCFData(),e="",this.isServiceSpecific?[3,3]:[4,i.C.init(i.I.COOKIE_BRIDGE,{cookieBridgeScriptPath:this.consensuScriptPath,cookieBridgeSubdomain:this.consensuSubdomain,useEuCdn:!1}).then((function(){i.C.setIsCookieBridgeAvailable(!0)})).catch((function(){console.warn(i.T.COOKIE_BRIDGE_NOT_AVAILABLE),i.C.removeIFrame(i.h)}))];case 1:return s.sent(),[4,i.C.getGlobalTCString().catch((function(){return console.warn(i.T.GET_GLOBAL_TC_STRING_FAILURE),t.isServiceSpecific=!0,""}))];case 2:e=s.sent(),s.label=3;case 3:return e||(e=i.S.fetchTCString()||""),[4,this.initTCModel(e,!1)];case 4:return s.sent(),this.botInstance.isRobot()&&this.acceptAllDisclosed(1),[2]}}))}))},t.prototype.setUIAsClosed=function(){return(0,i.f)(this,void 0,void 0,(function(){return(0,i.g)(this,(function(e){return[2,this.cmpApiUpdate(i.S.fetchTCString(),!1)]}))}))},t.prototype.setUIAsOpen=function(){return(0,i.f)(this,void 0,void 0,(function(){return(0,i.g)(this,(function(e){return[2,this.cmpApiUpdate(i.S.fetchTCString(),!0)]}))}))},t.prototype.shouldResurfaceUI=function(){var e=this.resurfaceOptions;return e.onIABLegalBasisChanged&&(0,n.i)(this.previousStorage,this.tcModel)||e.onVendorAdded&&(0,n.j)(this.previousStorage,this.getVendors())||e.onPurposeChanged&&(0,n.k)(this.previousStorage,this.getVendors())||e.onPeriodEnded&&(0,n.m)(this.previousStorage)},t.prototype.updateChoices=function(e,t){return(0,i.f)(this,void 0,void 0,(function(){return(0,i.g)(this,(function(s){switch(s.label){case 0:return e.purposes?[4,this.savePurposes(e.purposes)]:[3,2];case 1:s.sent(),s.label=2;case 2:return e.specialFeatures?[4,this.saveSpecialFeatures(e.specialFeatures)]:[3,4];case 3:s.sent(),s.label=4;case 4:return e.vendors?[4,this.saveVendors(e.vendors)]:[3,6];case 5:s.sent(),s.label=6;case 6:return this.tcModel&&this.hideLegitimateInterestToggles&&(this.tcModel.unsetAllVendorLegitimateInterests(),this.tcModel.unsetAllPurposeLegitimateInterests()),e.purposes||e.specialFeatures||e.vendors?[4,this.updateTCString(t)]:[3,8];case 7:s.sent(),s.label=8;case 8:return[2]}}))}))},t.prototype.resetTcf=function(){this.cmpApi={},this.selectedVendorsIncludeNonDisclosed=!1,this.tcModel={},this.tcfData=null,this.vendors=[],i.C.removeIFrame(i.h)},t.prototype.applyVendorPurposeRestrictions=function(e,t,s){var r=this,o=s===i.i.PURPOSES?i.i.LEGITIMATE_INTEREST:i.i.PURPOSES,c=s===i.i.PURPOSES?n.l.RestrictionType.REQUIRE_CONSENT:n.l.RestrictionType.REQUIRE_LI;t.forEach((function(t){var i;if(-1!==e.flexiblePurposes.indexOf(t)&&-1!==e[o].indexOf(t)&&-1===e[s].indexOf(t)){var a=new n.l.PurposeRestriction(t,c);!1===(null===(i=r.tcModel)||void 0===i?void 0:i.publisherRestrictions.vendorHasRestriction(e.id,a))&&r.tcModel.publisherRestrictions.add(e.id,a)}}))},t.prototype.cmpApiUpdate=function(e,t){return(0,i.f)(this,void 0,void 0,(function(){return(0,i.g)(this,(function(s){switch(s.label){case 0:return[4,this.getGdprApplies()];case 1:return s.sent()?this.cmpApi.update(e,t):this.cmpApi.update(null),[2]}}))}))},t.prototype.getVendors=function(){return(0,i.j)(this.vendors)||this.setVendors(),this.vendors},t.prototype.initTCModel=function(e,t){return(0,i.f)(this,void 0,void 0,(function(){var s,r,o=this;return(0,i.g)(this,(function(c){switch(c.label){case 0:if(n.l.GVL.baseUrl=t?i.G:i.k,n.l.GVL.languageFilename=i.l,n.l.GVL.latestFilename=i.m,s=new n.l.GVL,this.tcModel=new n.l.TCModel(s),this.tcModel.cmpId=this.cmpId,this.tcModel.cmpVersion=this.cmpVersion,this.tcModel.isServiceSpecific=this.isServiceSpecific,this.tcModel.publisherCountryCode=this.publisherCountryCode,this.tcModel.purposeOneTreatment=this.purposeOneTreatment,e)try{this.tcModel=n.l.TCString.decode(e,this.tcModel)}catch(e){console.warn(i.T.INIT_TCF_ERROR,e.message)}if(null===(r=this.tcModel))throw new Error(i.T.TC_MODEL_UNDEFINED);if(!this.selectedLanguage)throw new Error(i.T.SELECTED_LANGUAGE_UNDEFINED);return[4,r.gvl.readyPromise.then((function(){return(0,i.f)(o,void 0,void 0,(function(){var e,t,s,o,c,a=this;return(0,i.g)(this,(function(u){switch(u.label){case 0:return e=(0,n.b)(this.vendorIds,r.gvl.vendors),this.isServiceSpecific&&(t=this.changedPurposes,s=t.purposes,o=t.legitimateInterestPurposes,e.forEach((function(e){var t=r.gvl.vendors[e];t&&(a.applyVendorPurposeRestrictions(t,s,i.i.PURPOSES),a.applyVendorPurposeRestrictions(t,o,i.i.LEGITIMATE_INTEREST))}))),c=(0,n.r)(this.selectedLanguage),[4,this.resetGVLWithLanguage("en"===c?c+"-v2":c)];case 1:return u.sent(),this.tcModel&&this.tcModel.gvl.narrowVendorsTo(e),this.setSelectedVendorsIncludeNonDisclosed(e),!this.isServiceSpecific&&this.tcModel&&this.tcModel.vendorsDisclosed.set(e),[2]}}))}))}))];case 1:return c.sent(),[2]}}))}))},t.prototype.resetGVLWithLanguage=function(e){var t,s;return(0,i.f)(this,void 0,void 0,(function(){var r;return(0,i.g)(this,(function(o){return r=(0,n.r)(e),[2,null===(s=null===(t=this.tcModel)||void 0===t?void 0:t.gvl)||void 0===s?void 0:s.changeLanguage(r).catch((function(e){console.warn(i.T.RESET_GVL_FAILURE,e)}))]}))}))},t.prototype.resetTcfData=function(){this.vendors=[],this.tcfData=null},t.prototype.setSelectedVendorsIncludeNonDisclosed=function(e){var t=this,s=i.S.fetchTCFVendorsDisclosedObject();e.some((function(e){var i;return t.isServiceSpecific?!(0,n.n)(e,s):!(null===(i=t.tcModel)||void 0===i?void 0:i.vendorsDisclosed.has(e))}))&&(this.selectedVendorsIncludeNonDisclosed=!0)},t.prototype.savePurposes=function(e){return(0,i.f)(this,void 0,void 0,(function(){var t;return(0,i.g)(this,(function(s){return(t=this.tcModel)?(e.forEach((function(e){e.consent?t.purposeConsents.set(e.id):t.purposeConsents.unset(e.id),e.legitimateInterestConsent?t.purposeLegitimateInterests.set(e.id):t.purposeLegitimateInterests.unset(e.id)})),[2]):[2]}))}))},t.prototype.saveSpecialFeatures=function(e){return(0,i.f)(this,void 0,void 0,(function(){var t;return(0,i.g)(this,(function(s){return(t=this.tcModel)?(e.forEach((function(e){e.consent?t.specialFeatureOptins.set(e.id):t.specialFeatureOptins.unset(e.id)})),[2]):[2]}))}))},t.prototype.saveVendors=function(e){return(0,i.f)(this,void 0,void 0,(function(){var t;return(0,i.g)(this,(function(s){return(t=this.tcModel)?(e.forEach((function(e){e.consent?t.vendorConsents.set(e.id):t.vendorConsents.unset(e.id),e.legitimateInterestConsent?t.vendorLegitimateInterests.set(e.id):t.vendorLegitimateInterests.unset(e.id)})),[2]):[2]}))}))},t.prototype.setVendors=function(){var e;this.vendors=(0,n.o)(this.tcModel,null===(e=this.tcModel)||void 0===e?void 0:e.gvl,this.disabledSpecialFeatures,this.useGranularChoice,this.hideLegitimateInterestToggles,this.purposeOneTreatment)},t.prototype.updateTCString=function(e){return(0,i.f)(this,void 0,void 0,(function(){var t,s;return(0,i.g)(this,(function(r){switch(r.label){case 0:return this.tcModel&&(this.tcModel.consentScreen=e,this.tcModel.updated()),t=this.getTCString(),this.isServiceSpecific?[3,2]:[4,i.C.setGlobalTCString(t).catch((function(){console.warn(i.T.SET_GLOBAL_TC_STRING_FAILURE)}))];case 1:r.sent(),r.label=2;case 2:return s={tcString:t,timestamp:Date.now(),vendors:(0,n.p)(this.getVendors())},i.S.saveTCFData(s),[4,this.cmpApiUpdate(t,!1)];case 3:return r.sent(),this.resetTcfData(),this.botInstance.isRobot()?[3,5]:[4,i.A.getInstance().saveTCFConsents(this.dataTransferSettings,s,"onTcfStringChange","implicit")];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))},t}(s(4962).default);t.default=r}}]);