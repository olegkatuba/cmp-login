import{ae as e,aF as a,aj as t,aJ as s,b0 as o,b4 as i,b5 as l,ay as n,aL as r,aO as c,af as u,ai as d,bl as g,aK as b,ag as p,ah as h,ad as m,bm as L,aS as f,ak as y,aH as w}from"./index.module.js";import{B as x,O as C,J as v,G as S,H as T}from"./useSubService-410a73b3.js";import{D as k}from"./DefaultTabs-2798014b.js";import"./helpers-65e79f36.js";const O=({disabled:s,onClick:o})=>{const{settings:i}=e(),l=i.ui,n=a();return t(x,{ariaLabel:l.ariaLabels.ccpaButton,backgroundColor:n.ui.buttons.save.bg,disabled:s,fullWidth:!1,label:l.buttons.save.label,onClick:o,testid:"uc-ccpa-button",textColor:n.ui.buttons.save.text})},E=s.button(["align-items:center;border:none;display:flex;background:none;justify-content:center;outline:none;height:",";min-height:",";min-width:",";padding:0;width:",";","{height:",";width:",";}&:focus-visible{outline-style:auto;outline-width:5px;}"],(({size:e})=>"small"===e?"16px":"20px"),(({size:e})=>"small"===e?"16px":"20px"),(({size:e})=>"small"===e?"32px":"40px"),(({size:e})=>"small"===e?"32px":"40px"),o.mobilePortrait,(({size:e})=>"small"===e?"16px":"24px"),(({size:e})=>"small"===e?"32px":"48px")),B=s.label(["cursor:pointer;display:inline-flex;flex:1 1 auto;color:",";font-weight:",";font-size:",";",";white-space:nowrap;&:not(:last-child){",";}","{align-items:center;",";+ div{",";}}"],(({theme:e})=>e.ui.text.color),(({theme:e})=>e.typography.weight.bold),(({theme:e})=>e.typography.size.medium),(({theme:e})=>i(e,l.MARGIN_LEFT,e.spacing.base.xs)),(({theme:e})=>i(e,l.MARGIN_RIGHT,e.spacing.base.xs)),o.mobilePortrait,(({theme:e})=>i(e,l.MARGIN_RIGHT,e.spacing.base.sm)),(({theme:e})=>i(e,l.MARGIN_LEFT,e.spacing.base.sm))),R=s.div(["align-items:center;display:flex;flex-direction:row;"]),I=({ariaLabel:e="",checked:a=!1,disabled:s=!1,focusOnMount:o=!1,id:i=n(),label:l,onToggle:u,testid:d,size:g="regular"})=>{const b=r(null);return c((()=>{o&&b.current&&b.current.focus({preventScroll:!0})}),[]),t(R,null,t(E,{"data-testid":d,disabled:s,id:`toggle-${i}`,onClick:()=>{u(!a)},size:g,role:"switch","aria-checked":a?"true":"false","aria-readonly":s?"true":"false","aria-label":e,tabIndex:0,ref:b},t(a?C:v,null)),l&&t(B,{key:i,htmlFor:`toggle-${i}`},l))},F=({checked:a,disabled:s,onToggle:o,focusOnMount:i})=>{const{settings:l}=e(),n=l.ui,{firstLayerVariant:r,view:c}=u();return t(I,{ariaLabel:n.ariaLabels.ccpaButton,checked:a,disabled:s,focusOnMount:i,id:c===d.FIRST_LAYER&&r===g.BANNER?"toggle-ccpa-banner":"toggle-ccpa-wall",label:n.buttons.optOutNotice.label,onToggle:o,testid:c===d.FIRST_LAYER&&r===g.BANNER?"uc-ccpa-toggle":"uc-ccpa-wall-toggle"})},A={firstLayerBanner:"uc-ccpa-banner",firstLayerWall:"uc-ccpa-wall",secondLayer:"uc-ccpa-settings"};var M=b((({onClose:a,onCustomize:s,onLanguageChange:o,setToggleCcpaChecked:i,toggleCcpaChecked:l,UC:n})=>{const{firstLayerVariant:r,secondLayerVariant:g,view:b}=u(),{settings:x}=e(),{isIE:C,isMobile:v}=p(),[E,{loading:B}]=h(n.saveOptOutForCcpa,n),{closeView:R,setFirstLayerVariant:I,setSecondLayerVariant:M}=u(),[z,H]=m(!1);c((()=>{const e=x.ui;i(n.getCcpaOptOutStatus()),I(e.firstLayer.variant),M(e.secondLayer.variant)}),[]);const N=x.ui,V=L(b===d.SECOND_LAYER?g:r,A),_=B,G={CcpaButton:t(O,{disabled:_,onClick:()=>{R(),n.saveUserActionPerformed()}}),CcpaToggle:t(F,{checked:l,disabled:_,onToggle:async()=>{if(B)return;E(!l),i(!l);let e=null;try{var a,t;e=null===(a=document.activeElement)||void 0===a||null===(t=a.shadowRoot)||void 0===t?void 0:t.querySelector(":focus-visible")}catch(a){e=null}null!==e&&H(!0)},focusOnMount:z})},j=V.layerPlacement===f.BOTTOM||V.layerPlacement===f.TOP;switch(b){case d.FIRST_LAYER:return t(T,{customActions:[{ariaLabel:N.ariaLabels.ccpaMoreInformation,label:N.buttons.showSecondLayer.label,onClick:s}],footer:{buttons:G},header:{description:N.firstLayer.description.default,enableHTMLTextFormatting:!0,functions:{onLanguageChange:o},showLanguageSelector:N.firstLayer.isLanguageSelectorEnabled,title:N.firstLayer.title},layerSettings:w(w(w({isOverlayEnabled:N.firstLayer.isOverlayEnabled},(C||v)&&{minVerticalScrollerHeight:100}),V),{},{placeLinksInFooter:j,showBorderBottom:!1,withInitialHeight:!0}),useBackgroundColor:!0});case d.SECOND_LAYER:return t(T,{footer:{buttons:G,showBorderBeforeFooter:!0},header:{description:N.secondLayer.description,enableHTMLTextFormatting:!0,functions:{onClose:a,onLanguageChange:o},showCloseButton:!0,showLanguageSelector:N.secondLayer.isLanguageSelectorEnabled,title:N.secondLayer.title},layerSettings:w(w(w({isOverlayEnabled:N.secondLayer.isOverlayEnabled},C&&{minVerticalScrollerHeight:350}),V),{},{minVerticalScrollerHeight:320,placeLinksInFooter:j,showBorderBottom:!1,side:N.secondLayer.side,withFadingBottom:!0,withInitialHeight:!0}),useBackgroundColor:!1},t(S,null,t(k,null)));default:return t(y,null)}}));export default M;
//# sourceMappingURL=index-d57c53ce.js.map
